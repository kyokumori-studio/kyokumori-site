<!DOCTYPE html> <!-- 宣告這是一份 HTML5 文件 -->
<html lang="zh-Hant"> <!-- 網頁語言設定為繁體中文 -->

<head>
  <meta charset="UTF-8" /> <!-- 設定編碼為 UTF-8，支援中文 -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>曲守工作室 Kyokumori Studio</title> <!-- 標題列顯示的名稱 -->
  <link rel="stylesheet" href="style.css" /> <!-- 外部 CSS 樣式表連結 -->
</head>

<body>

  <!-- 網站上方導覽列（Header） -->
  <header>
    <div class="container nav">
      <!-- ✅ 改為乾淨對齊的 logo 標區：圖片 + 中文 + 英文 -->
      <a class="logo-link" href="/">
        <!-- 圓形 logo 圖片 -->
        <img src="logo.png" alt="Logo" class="logo-img" />

        <!-- 文字組合：中文主標＋英文副標（同行） -->
        <div class="logo-text-group">
          <span class="logo-text-zh">曲守工作室</span>
          <span class="logo-text-en">Kyokumori Studio</span>
        </div>
      </a>


      <!-- 導覽列選單 -->
      <nav>
        <a href="#">首頁</a>
        <a href="#resources">素材庫</a> <!-- 錨點連到下方素材庫區塊 -->
        <a href="#">關於我們</a>
        <a href="#">聯絡我們</a>
      </nav>
    </div>
  </header>

  <!-- Hero 區（首頁第一印象區塊） -->
  <section class="hero">
    <div class="container">
      <h1>曲守工作室 Kyokumori Studio</h1>
      <p>創作 × 技術 × 即時互動，構築角色與觀眾的連結橋梁</p>
    </div>
  </section>

  <!--作品集-->
  <section class="featured-carousel">
    <div class="container">
      <h2 class="section-title">推薦作品</h2>

      <div class="carousel-wrapper" onmouseenter="hoverEnter()" onmouseleave="hoverLeave()">
        <button class="arrow left" onclick="scrollCarousel(-1)">←</button>

        <div class="carousel" id="video-carousel">
          <div class="video-card"><iframe width="337" height="599" src="https://www.youtube.com/embed/at9pIv1SDfE"
              frameborder="0"
              allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
              referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe></div>
          <div class="video-card"><iframe width="337" height="599" src="https://www.youtube.com/embed/Z5gCOttIj9E"
              frameborder="0"
              allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
              referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe></div>
          <div class="video-card"><iframe src="https://www.youtube.com/embed/影片ID3" allowfullscreen></iframe></div>
          <div class="video-card"><iframe src="https://www.youtube.com/embed/影片ID4" allowfullscreen></iframe></div>
          <div class="video-card"><iframe src="https://www.youtube.com/embed/影片ID5" allowfullscreen></iframe></div>
        </div>

        <button class="arrow right" onclick="scrollCarousel(1)">→</button>
      </div>
    </div>
  </section>

  <!-- 免費素材庫介紹區 -->
  <section class="resources-intro" id="resources">
    <div class="container">
      <h2>免費素材庫 Free Resources</h2>
      <p>提供免費音樂、音效與視覺素材，幫助你輕鬆創作！</p>
    </div>
  </section>

  <!-- 三分類入口卡片區 -->
  <section class="resource-portal">
    <div class="container cards">

      <!-- 音樂素材卡片 -->
      <a class="card" href="#music">
        <img src="https://via.placeholder.com/300x200?text=音樂素材" alt="音樂素材" />
        <h3>音樂素材</h3>
        <p>免費 BGM 與音效下載</p>
      </a>

      <!-- 插圖素材卡片 -->
      <a class="card" href="#images">
        <img src="https://via.placeholder.com/300x200?text=插圖素材" alt="插圖素材" />
        <h3>插圖素材</h3>
        <p>邊框、裝飾、背景圖免費使用</p>
      </a>

      <!-- 模板素材卡片 -->
      <a class="card" href="#templates">
        <img src="https://via.placeholder.com/300x200?text=模板素材" alt="模板素材" />
        <h3>模板素材</h3>
        <p>Shorts、字幕、封面排版模板包</p>
      </a>

    </div>
  </section>

  <!-- 頁尾區塊（Footer） -->
  <footer>
    <div class="container footer-content">
      <div class="footer-left">
        <p>© 2026 曲守工作室 Kyokumori Studio.</p>
        <p>以角色為核心，連結創作、技術與觀眾的情感橋梁。</p>
      </div>
      <div class="footer-right">
        <p>📧 hello@kyokumori.studio</p>
        <p>☕ <a href="#">Ko-fi: ko-fi.com/kyokumori</a></p>
        <p>🕊️ X: @kyokumori_studio</p>
      </div>
    </div>
  </footer>

  <script>
    const carousel = document.getElementById("video-carousel");
    const gap = 24;
    let cardWidth;
    let autoScrollTimer;
    let isHovered = false;
    let isAnimating = false;

    function setupTrueInfiniteCarousel() {
      const cards = carousel.querySelectorAll(".video-card");
      cardWidth = cards[0].offsetWidth + gap;

      // 初始 scrollLeft 設定，預防 DOM 應變
      carousel.scrollLeft = 0;

      autoScrollTimer = setInterval(() => {
        if (!isHovered) scrollCarousel(1);
      }, 3000);
    }

    function scrollCarousel(direction) {
      if (isAnimating) return;
      isAnimating = true;

      const scrollAmount = direction * cardWidth;
      const originalScroll = carousel.scrollLeft;

      // 動畫滑動
      carousel.scrollTo({
        left: originalScroll + scrollAmount,
        behavior: 'smooth'
      });

      // 等動畫完成再換 DOM 順序（需搭配動畫時間）
      setTimeout(() => {
        if (direction === 1) {
          const first = carousel.querySelector(".video-card");
          carousel.appendChild(first);
        } else {
          const cards = carousel.querySelectorAll(".video-card");
          const last = cards[cards.length - 1];
          carousel.insertBefore(last, carousel.firstChild);
        }

        // 馬上回 scrollLeft，重設位置
        carousel.scrollLeft -= scrollAmount;
        isAnimating = false;
      }, 320); // 與 CSS 動畫時間同步
    }

    function pauseAutoScroll() {
      isHovered = true;
      clearInterval(autoScrollTimer);
    }

    function resumeAutoScroll() {
      isHovered = false;
      clearInterval(autoScrollTimer); // 清掉舊的
      autoScrollTimer = setInterval(() => {
        if (!isHovered) scrollCarousel(1);
      }, 3000);
    }

    function showArrows() {
      document.querySelectorAll(".arrow").forEach(btn => btn.style.opacity = 1);
    }

    function hideArrows() {
      document.querySelectorAll(".arrow").forEach(btn => btn.style.opacity = 0);
    }

    function hoverEnter() {
      showArrows();
      pauseAutoScroll();
    }

    function hoverLeave() {
      hideArrows();
      resumeAutoScroll();
    }

    window.addEventListener("load", () => {
      // 等待影片 iframe 都載入完成再初始化
      const iframes = document.querySelectorAll(".video-card iframe");
      let loaded = 0;
      iframes.forEach(iframe => {
        iframe.onload = () => {
          loaded++;
          if (loaded === iframes.length) {
            setupTrueInfiniteCarousel();
          }
        };
      });
    });
  </script>

</body>

</html>